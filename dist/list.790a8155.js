let currentDraggedElement=null,currentTouchDropTarget=null,longPressTimer=null;function cleanUpDragOverStyles(){Array.from(List.children).forEach(e=>{e.classList.remove("dragging"),e.style.boxShadow=""})}function addDragAndDropListeners(e){e.addEventListener("dragstart",t=>{currentDraggedElement=e,t.dataTransfer&&void 0!==t.dataTransfer.effectAllowed&&t.dataTransfer.setData("text/plain",e.dataset.item||""),cleanUpDragOverStyles(),setTimeout(()=>{e.classList.add("dragging")},0)}),e.addEventListener("dragover",t=>{t.preventDefault(),t.dataTransfer&&void 0!==t.dataTransfer.effectAllowed&&t.dataTransfer.setData("text/plain",e.dataset.item||""),cleanUpDragOverStyles();let r=t.target.closest("li");if(r&&r!==currentDraggedElement){let e=r.getBoundingClientRect(),n=e.y+e.height/2;t.clientY<n?(r.style.boxShadow="inset 0 3px 0 0 var(--bs-effect)",r.style.borderBottom=""):(r.style.boxShadow="inset 0 -3px 0 0 var(--bs-effect)",r.style.borderTop="")}}),e.addEventListener("drop",e=>{e.preventDefault();let t=e.target.closest("li");if(cleanUpDragOverStyles(),t&&currentDraggedElement&&t!==currentDraggedElement){let r=t.getBoundingClientRect(),n=r.y+r.height/2;e.clientY<n?List.insertBefore(currentDraggedElement,t):List.insertBefore(currentDraggedElement,t.nextSibling),updateItemNumbers(),currentDraggedElement=null}}),e.addEventListener("dragend",()=>{currentDraggedElement&&currentDraggedElement.classList.remove("dragging"),cleanUpDragOverStyles(),currentDraggedElement=null}),e.addEventListener("touchstart",t=>{1===t.touches.length&&(longPressTimer&&clearTimeout(longPressTimer),longPressTimer=setTimeout(()=>{currentDraggedElement=e,e.classList.add("dragging"),t.preventDefault()},400))}),e.addEventListener("touchmove",e=>{if(!currentDraggedElement)return;e.preventDefault();let t=e.touches[0],r=t.clientX,n=t.clientY,l=document.elementFromPoint(r,n).closest("li");if(cleanUpDragOverStyles(),l&&l!==currentDraggedElement){let e=l.getBoundingClientRect();n<e.y+e.height/2?(l.style.boxShadow="inset 0 3px 0 0 var(--bs-effect)",l.style.borderBottom=""):(l.style.boxShadow="inset 0 -3px 0 0 var(--bs-effect)",l.style.borderTop="")}clearTimeout(longPressTimer),longPressTimer=null}),e.addEventListener("touchend",e=>{if(longPressTimer){clearTimeout(longPressTimer),longPressTimer=null;return}if(!currentDraggedElement)return;e.preventDefault(),currentDraggedElement.classList.remove("dragging"),cleanUpDragOverStyles();let t=e.changedTouches[0],r=document.elementFromPoint(t.clientX,t.clientY),n=r?r.closest("li"):null;if(n&&currentDraggedElement&&n!==currentDraggedElement){let e=n.getBoundingClientRect(),r=e.y+e.height/2;t.clientY<r?List.insertBefore(currentDraggedElement,n):List.insertBefore(currentDraggedElement,n.nextSibling),updateItemNumbers()}currentDraggedElement=null}),e.addEventListener("touchcancel",()=>{longPressTimer&&(clearTimeout(longPressTimer),longPressTimer=null),currentDraggedElement&&currentDraggedElement.classList.remove("dragging"),cleanUpDragOverStyles(),currentDraggedElement=null})}
//# sourceMappingURL=list.790a8155.js.map
